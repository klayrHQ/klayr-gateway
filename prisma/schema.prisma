// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

model Block {
  id              String   @id @unique
  version         Int
  timestamp       Int
  height          Int
  previousBlockID String
  stateRoot       String
  assetRoot       String
  eventRoot       String
  transactionRoot String
  validatorsHash   String
  generatorAddress String
  maxHeightPrevoted Int
  maxHeightGenerated Int
  impliesMaxPrevotes Boolean
  signature         String
  aggregateCommit     AggregateCommit  @relation(fields: [aggregateCommitId], references: [id])
  aggregateCommitId   Int @unique
}

model AggregateCommit {
  id                   Int      @id
  height               Int      
  aggregationBits      String
  certificateSignature String
  block                Block?
}

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}
